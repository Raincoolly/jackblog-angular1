!function(){"use strict";angular.module("jackblog",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","ngLodash","ngProgress","toaster","ngFileUpload","jackblog.resources","jackblog.service","jackblog.filter","jackblog.directives","jackblog.article","jackblog.settings","jackblog.mobile"]).config(["$logProvider","$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","IsDebug",function(t,n,e,i,o,a){i.html5Mode(!0),o.defaults.timeout=5e5,o.defaults.withCredentials=!0,o.interceptors.push("AuthInterceptor"),t.debugEnabled(a),e.otherwise("/")}]).run(["$rootScope","ngProgressFactory","$state","lodash","Auth","Blog","$cookies","CustomModalService","toaster","CookieConfig",function(t,n,e,i,o,a,r,s,l,c){t.default_avatar="/assets/images/avatar.png",a.getIndexImage().then(function(n){t.indexImg=n.img})["catch"](function(){t.indexImg="/assets/images/shanghai.jpg"}),t.opneSnsModal=function(){s.open("SnsSignInCtrl","app/settings/sns_sign_in.html")},t.progressbar=n.createInstance();var u=["/signin","/signup"],g=function(t){return i.find(u,function(n){return i.startsWith(t,n)})};t.$on("$stateChangeStart",function(n,i){t.progressbar.setColor("green"),t.progressbar.reset(),t.progressbar.start(),o.isLoggedInAsync(function(t){g(i.url)&&t?(n.preventDefault(),e.go("home")):i.onlyAdmin&&!o.isAdmin()?(n.preventDefault(),e.go("home")):i.onlyUser&&!t&&(n.preventDefault(),e.go("home"))})}),t.$on("$stateChangeSuccess",function(n,e,i,o,a){t.progressbar.complete(),t.previousState=o,t.previousParams=a}),t.$on("$locationChangeSuccess",function(n,e,i){t.currentUrl=e,t.previousUrl=i;var o=r.get("snsmsg");o&&(o=JSON.parse(o),l.pop(o.msgtype,"",o.msg),r.remove("snsmsg",c))}),t.$on("$stateChangeError",function(){t.progressbar.reset()})}])}(),function(){"use strict";angular.module("jackblog").controller("SidebarCtrl",["$scope",function(t){t.name="Jack Hu"}])}(),function(){"use strict";angular.module("jackblog.service",[])}(),function(){"use strict";angular.module("jackblog.service").factory("CustomModalService",["$modal",function(t){return{open:function(n,e,i){t.open({templateUrl:e,controller:n,size:i})}}}])}(),function(){"use strict";angular.module("jackblog.service").factory("Auth",["$location","$rootScope","$http","User","$cookies","$q","lodash","$window","ServerUrl","CookieConfig",function(t,n,e,i,o,a,r,s,l,c){var u={};return o.get("token")&&(u=i.get()),{login:function(t,n){var r=n||angular.noop,s=a.defer();return e.post(l+"/auth/local",{email:t.email,password:t.password,captcha:t.captcha}).success(function(t){return o.put("token",t.token,c),u=i.get(),s.resolve(t),r()}).error(function(t){return this.logout(),s.reject(t),r(t)}.bind(this)),s.promise},snsLogin:function(t,n){var e=l+"/auth/"+t+"?redirectUrl="+(n||"/");o.get("token")&&(e+="&access_token="+o.get("token").replace(/(^\")|(\"$)/g,"")),s.location.href=e},logout:function(){o.remove("token",c),u={}},getCurrentUser:function(){return u},isLoggedIn:function(){return u.hasOwnProperty("role")},isLoggedInAsync:function(t){u.hasOwnProperty("$promise")?u.$promise.then(function(){t(!0)})["catch"](function(){t(!1)}):t(u.hasOwnProperty("role")?!0:!1)},isLike:function(t){var n=r.findIndex(u.likes,function(n){return n.toString()===t});return-1!==n?!0:!1},isAdmin:function(){return"admin"===u.role},getToken:function(){return o.get("token")}}}])}(),function(){"use strict";angular.module("jackblog.service").factory("AuthInterceptor",["$rootScope","$q","$cookies","$location","$injector",function(t,n,e,i,o){var a;return{request:function(t){return t.headers=t.headers||{},e.get("token")&&(t.headers.Authorization="Bearer "+e.get("token").replace(/(^\")|(\"$)/g,"")),t},response:function(t){return t},responseError:function(t){return 401===t.status?(a=o.get("Auth"),a.logout(),i.path("/signin"),n.reject(t)):n.reject(t)}}}])}(),function(){"use strict";angular.module("jackblog.resources",["ngResource"])}(),function(){"use strict";angular.module("jackblog.resources").factory("User",["$resource","ServerUrl",function(t,n){var e=t(n+"/users/:id/:controller",{id:"@_id"},{getCaptcha:{method:"GET",params:{id:"getCaptcha"}},get:{method:"GET",params:{id:"me"}},mdUser:{method:"PUT",params:{id:"mdUser"}},getUserProvider:{method:"GET",params:{id:"getUserProvider"}},snsLogins:{method:"GET",params:{id:"snsLogins"}}});return{get:e.get,getCaptcha:function(t){var n=t||angular.noop;return e.getCaptcha(function(t){return n(t)},function(t){return n(t)}).$promise},mdUser:function(t,n){var i=n||angular.noop;return e.mdUser(t,function(t){return i(t)},function(t){return i(t)}).$promise},getUserProvider:function(t){var n=t||angular.noop;return e.getUserProvider(function(t){return n(t)},function(t){return n(t)}).$promise},getLogins:function(t){var n=t||angular.noop;return e.snsLogins(function(t){return n(t)},function(t){return n(t)}).$promise}}}])}(),function(){"use strict";angular.module("jackblog.resources").factory("Tags",["$resource","ServerUrl",function(t,n){var e=t(n+"/tags/:id/:controller",{id:"@_id"},{getFrontTagList:{method:"GET",params:{id:"getFrontTagList"}}});return{getFrontTagList:function(t){var n=t||angular.noop;return e.getFrontTagList(function(t){return n(t)},function(t){return n(t)}).$promise}}}])}(),function(){"use strict";angular.module("jackblog.resources").factory("Mobile",["$resource","ServerUrl",function(t,n){var e=t(n+"/mobile/:id/:controller",{id:"@_id"},{getApps:{method:"GET",params:{id:"getApps"}}});return{getApps:function(t){var n=t||angular.noop;return e.getApps(function(t){return n(t)},function(t){return n(t)}).$promise}}}])}(),function(){"use strict";angular.module("jackblog.resources").factory("Comment",["$resource","ServerUrl",function(t,n){var e=t(n+"/comment/:id/:controller",{id:"@_id"},{getFrontCommentList:{method:"GET",params:{controller:"getFrontCommentList"}},addNewComment:{method:"POST",params:{id:"addNewComment"}},addNewReply:{method:"POST",params:{controller:"addNewReply"}},delReply:{method:"PUT",params:{controller:"delReply"}}});return{addNewComment:function(t,n){var i=n||angular.noop;return e.addNewComment(t,function(t){return i(t)},function(t){return i(t)}).$promise},getFrontCommentList:function(t,n){var i=n||angular.noop;return e.getFrontCommentList(t,function(t){return i(t)},function(t){return i(t)}).$promise},addNewReply:function(t,n,i){var o=i||angular.noop;return e.addNewReply({id:t},n,function(t){return o(t)},function(t){return o(t)}).$promise},delComment:function(t,n){var i=n||angular.noop;return e.remove(t,function(t){return i(t)},function(t){return i(t)}).$promise},delReply:function(t,n,i){var o=i||angular.noop;return e.delReply({id:t},n,function(t){return o(t)},function(t){return o(t)}).$promise}}}])}(),function(){"use strict";angular.module("jackblog.resources").factory("Blog",["$resource","ServerUrl",function(t,n){var e=t(n+"/article/:id/:controller",{id:"@_id"},{getFrontBlogList:{method:"GET",params:{id:"getFrontArticleList"}},getFrontBlogCount:{method:"GET",params:{id:"getFrontArticleCount"}},getFrontArticle:{method:"GET",params:{controller:"getFrontArticle"}},getIndexImage:{method:"GET",params:{id:"getIndexImage"}},toggleLike:{method:"PUT",params:{controller:"toggleLike"}},getPrenext:{method:"GET",params:{controller:"getPrenext"}}});return{getFrontBlogList:function(t,n){var i=n||angular.noop;return e.getFrontBlogList(t,function(t){return i(t)},function(t){return i(t)}).$promise},getFrontBlogCount:function(t,n){var i=n||angular.noop;return e.getFrontBlogCount(t,function(t){return i(t)},function(t){return i(t)}).$promise},getFrontArticle:function(t,n){var i=n||angular.noop;return e.getFrontArticle(t,function(t){return i(t)},function(t){return i(t)}).$promise},getIndexImage:function(t){var n=t||angular.noop;return e.getIndexImage(function(t){return n(t)},function(t){return n(t)}).$promise},toggleLike:function(t,n){var i=n||angular.noop;return e.toggleLike(t,{},function(t){return i(t)},function(t){return i(t)}).$promise},getPrenext:function(t,n){var i=n||angular.noop;return e.getPrenext(t,function(t){return i(t)},function(t){return i(t)}).$promise}}}])}(),function(){"use strict";angular.module("jackblog").controller("NavbarCtrl",["$rootScope","$scope","$state","$location","Auth","lodash",function(t,n,e,i,o,a){n.isLoggedIn=o.isLoggedIn,n.isAdmin=o.isAdmin,n.getCurrentUser=o.getCurrentUser,n.logout=function(){o.logout(),e.go("home",{},{reload:!0})},n.changeMode=function(){t.dayMode=!t.dayMode},n.isActive=function(t){return"/"===t?"/apps"!==i.path():a.startsWith(i.path(),t)}}])}(),function(){"use strict";angular.module("jackblog").controller("FooterCtrl",["$scope",function(t){t.beian="©2015 / 鄂ICP备15010989号-1"}])}(),function(){"use strict";angular.module("jackblog.filter",[]).filter("userStatus",function(){return function(t){var n;switch(t){case 0:n="未验证";break;case 1:n="已验证";break;case 2:n="被阻止";break;default:n="未知状态"}return n}}).filter("customTime",function(){var t=(new Date).getTime(),n=6e4,e=60*n,i=24*e,o=30*i,a=12*o;return function(r){var s,l=new Date(r).getTime(),c=parseInt(t)-parseInt(l);return s=c>=a?parseInt(c/a)+"年前":a>c&&c>=o?parseInt(c/o)+"月前":o>c&&c>=i?parseInt(c/i)+"天前":i>c&&c>=e?parseInt(c/e)+"小时前":e>c&&c>=n?parseInt(c/n)+"分钟前":"刚刚"}})}(),function(){"use strict";angular.module("jackblog.directives",[])}(),function(){"use strict";angular.module("jackblog.directives").directive("email",function(){return{require:["ngModel","^?form"],link:function(t,n,e,i){var o=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;i[0].$parsers.unshift(function(t){return o.test(t)?(i[0].$setValidity("email",!0),t):void i[0].$setValidity("email",!1)})}}}).directive("nickname",function(){return{require:"ngModel",link:function(t,n,e,i){var o=/^[(\u4e00-\u9fa5)0-9a-zA-Z\_\s@]+$/;i.$parsers.unshift(function(t){return o.test(t)?(i.$setValidity("nickname",!0),t):void i.$setValidity("nickname",!1)})}}})}(),function(){"use strict";angular.module("jackblog.directives").directive("scrolltop",["$window",function(t){return{restrict:"EA",replace:!0,template:'<div class="gotop" ng-show="isShowTop"><i class="fa fa-arrow-up"></i></div>',link:function(n,e,i){n.isShowTop=!1;var o=$("html,body");e.bind("click",function(){0===$(window).scrollTop()||o.is(":animated")||o.animate({scrollTop:0},"slow")}),angular.element(t).bind("scroll",function(){this.pageYOffset>=200?n.isShowTop=!0:n.isShowTop=!1,n.$apply()})}}}])}(),function(){"use strict";angular.module("jackblog.settings",[]).config(["$stateProvider",function(t){t.state("signin",{url:"/signin",templateUrl:"app/settings/local_sign_in.html",controller:"LocalSignInCtrl"}).state("setting",{url:"/setting",templateUrl:"app/settings/user_setting.html",controller:"SettingCtrl",onlyUser:!0})}])}(),function(){"use strict";angular.module("jackblog.settings").controller("SettingCtrl",["$scope","User","Auth","toaster","$state",function(t,n,e,i,o){t.user=n.get(),t.mdUser=function(e){e.$valid&&n.mdUser(t.user).then(function(n){t.user=n.data,i.pop("success","","修改资料成功")})["catch"](function(t){t=t.data.error_msg||"修改用户失败",i.pop("error","",t),o.reload()})}}])}(),function(){"use strict";angular.module("jackblog.settings").controller("SnsSignInCtrl",["$rootScope","$scope","Auth",function(t,n,e){n.loginOauth=function(n){e.snsLogin(n,t.currentUrl)}}])}(),function(){"use strict";angular.module("jackblog.settings").directive("snsloginbtns",["$rootScope","User",function(t,n){return{restrict:"E",templateUrl:"app/settings/sns_login_btn.html",replace:!0,link:function(t,e,i){n.getLogins().then(function(n){t.loginBtns=n.data})}}}])}(),function(){"use strict";angular.module("jackblog.settings").controller("LocalSignInCtrl",["$rootScope","$scope","Auth","$state","$log","toaster","$cookies","ServerUrl","CookieConfig",function(t,n,e,i,o,a,r,s,l){function c(){n.captchaUrl=s+"/users/getCaptcha?"+Math.random()}function u(){e.login({email:n.user.email,password:n.user.password,captcha:n.user.captcha}).then(function(){a.pop("success","","登录成功,欢迎光临!"),i.go("home")})["catch"](function(t){n.user.captcha="",c(),t=t.error_msg||t.data.error_msg||"登录失败,请重试",a.pop("error","",t),r.remove("token",l)})}n.loginOauth=function(n){e.snsLogin(n,t.previousUrl)},c(),n.changeCaptcha=function(){c()},n.user={},n.login=function(t){t.$valid&&u()},n.loginPress=function(t,n){13===t.which&&n.$valid&&(t.preventDefault(),u())}}])}(),function(){"use strict";angular.module("jackblog.mobile",[]).config(["$stateProvider",function(t){t.state("apps",{url:"/apps",templateUrl:"app/mobile/mobile.html",controller:"MobileCtrl"})}])}(),function(){"use strict";angular.module("jackblog.mobile").controller("MobileCtrl",["$scope","Mobile",function(t,n){n.getApps().then(function(n){t.apps=n.data})}])}(),function(){"use strict";angular.module("jackblog").config(["$stateProvider",function(t){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",controllerAs:"main"})}])}(),function(){"use strict";angular.module("jackblog").controller("MainCtrl",["$scope","Blog","$log","Tags",function(t,n,e,i){function o(e,i){t.isLoading=!0,n.getFrontBlogCount(e).then(function(n){t.blogCount=n.count,t.numPages=Math.ceil(t.blogCount/t.options.itemsPerPage)}),n.getFrontBlogList(e).then(function(n){t.isLoading=!1,i?t.blogList=n.data:t.blogList=t.blogList.concat(n.data)})["catch"](function(){t.isLoading=!1,t.blogList=[]})}if(i.getFrontTagList().then(function(n){t.tagList=n.data}),t.options={currentPage:1,itemsPerPage:10,sortName:"publish_time",tagId:""},localStorage.options){var a=JSON.parse(localStorage.options);t.options.sortName=a.sortName,t.options.tagId=a.tagId}t.blogList=[],o(t.options),t.loadMore=function(){t.options.currentPage++,o(t.options)},t.changeSort=function(n){t.options.currentPage=1,t.options.tagId="",t.options.sortName=n,localStorage.options=JSON.stringify(t.options),o(t.options,!0)},t.changeTag=function(n){t.options.currentPage=1,t.options.tagId=n,t.options.sortName="",localStorage.options=JSON.stringify(t.options),o(t.options,!0)}}])}(),function(){"use strict";angular.module("jackblog.article",[]).config(["$stateProvider",function(t){t.state("article",{url:"/article/:aid",templateUrl:"app/article/article.html",controller:"ArticleCtrl"})}])}(),function(){"use strict";angular.module("jackblog.article").directive("reply",["Comment","$log","toaster",function(t,n,e){return{restrict:"EA",templateUrl:"app/article/reply.directive.html",replace:!0,link:function(i,o,a){i.delReply=function(o,a,r){confirm("你确定要删除这条回复吗?")&&t.delReply(a,{rid:o}).then(function(t){n.debug(t),i.commentList[r]=t.data})["catch"](function(t){t=t.data.error_msg||"删除回复失败.",e.pop("error","",t)})}}}}])}(),function(){"use strict";angular.module("jackblog.article").directive("comment",["$rootScope","Comment","$timeout","$log","toaster","Auth",function(t,n,e,i,o,a){return{restrict:"E",templateUrl:"app/article/comment.directive.html",replace:!0,link:function(i,r,s){i.showReply=function(n,o){a.isLoggedInAsync(function(a){a?(i.isReply=!i.isReply,$("#replyContent"+n).val("@"+o+" "),e(function(){$("#replyContent"+n).focus()},0,!1)):t.opneSnsModal()})},i.submitNewReply=function(t,e,a){n.addNewReply(t,{content:e}).then(function(t){i.commentList[a].replys=t.data,i.isReply=!i.isReply})["catch"](function(t){t=t.data.error_msg||"添加回复失败.",o.pop("error","",t)})},i.delComment=function(t,e){confirm("删除评论会一起删除它所有回复,你确定要删除吗?")&&n.delComment({id:e}).then(function(){i.commentList.splice(t,1),o.pop("success","","删除评论成功.")})["catch"](function(t){t=t.data.error_msg||"删除评论失败.",o.pop("error","",t)})}}}}])}(),function(){"use strict";angular.module("jackblog.article").controller("ArticleCtrl",["$rootScope","$scope","$log","$state","$location","lodash","toaster","Auth","Blog","Comment","$stateParams",function(t,n,e,i,o,a,r,s,l,c,u){n.aid=u.aid,n.aid||i.go("home"),n.isAdmin=s.isAdmin,n.isLoggedIn=s.isLoggedIn,l.getFrontArticle({id:n.aid}).then(function(t){n.article=t.data}).then(function(){var t={id:n.aid,sortName:"publish_time",tagId:""};localStorage.options&&(t=a.merge(t,JSON.parse(localStorage.options))),l.getPrenext(t).then(function(t){n.next=t.data.next||{},n.prev=t.data.prev||{}})})["catch"](function(){i.go("home")}),c.getFrontCommentList({id:n.aid}).then(function(t){n.commentList=t.data})["catch"](function(t){e.debug(t),n.commentList=[]}),s.isLoggedInAsync(function(t){t?n.isLike=s.isLike(n.aid):n.isLike=!1}),n.newComment={content:""},n.submitNewComment=function(t){n.newComment.aid=t,c.addNewComment(n.newComment).then(function(t){n.commentList.push(t.data),n.newComment.content=""})["catch"](function(t){e.debug(t),r.pop("error","","评论添加错误,请重试.")})},n.goToComment=function(n){s.isLoggedInAsync(function(e){e?$("#"+n).focus():t.opneSnsModal()})},n.toggleLike=function(e){s.isLoggedInAsync(function(i){i?l.toggleLike({id:e}).then(function(t){n.article.like_count=t.count,n.isLike=t.isLike}):t.opneSnsModal()})}}])}(),function(){return angular.module("jackblog").constant("ServerUrl","https://api.jackhu.top").constant("IsDebug",!1).constant("CookieConfig",{domain:".jackhu.top"})}(),angular.module("jackblog").run(["$templateCache",function(t){t.put("app/article/article.html",'<div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="article-box"><div class="article-container"><h1 class="title">{{article.title}}</h1><div class="counts"><span class="views-count">阅读{{article.visit_count}}</span> <span class="comments-count">评论{{article.comment_count}}</span> <span class="likes-count">喜欢{{article.like_count}}</span></div><div class="markdown-content" ng-bind-html="article.content"></div></div><div class="article-share clearfix"><a href="javascript:;" class="like-btn" ng-class="{\'note-liked\':isLike}" ng-click="toggleLike(article._id)"><span class="like-content"><i class="fa" ng-class="{\'fa-heart-o\':!isLike,\'fa-heart\':isLike}"></i> 喜欢</span> <span class="like-count">{{article.like_count}}</span></a></div><div class="prenext"><div class="text-left prev"><a ng-if="prev._id" class="link-title" ui-sref="article({aid:prev._id})"><span>上一篇:</span> {{prev.title}}</a></div><div class="text-right next"><a ng-if="next._id" class="link-title" ui-sref="article({aid:next._id})"><span>下一篇:</span> {{next.title}}</a></div></div><div class="comment-container clearfix"><div class="comment-head clearfix">{{commentList.length || 0}}条评论 <a href="javascript:void(null)" ng-click="goToComment(\'comment_content\')" class="goto-comment pull-right"><i class="fa fa-pencil"></i>添加新评论</a></div><div id="comment_list"><comment ng-repeat="comment in commentList"></comment></div><div ng-if="!isLoggedIn()"><p class="comment-signin"><button class="btn btn-info" ng-click="opneSnsModal()">登录后发表评论</button></p></div><form ng-if="isLoggedIn()" class="new_comment" name="new_comment"><div class="comment-text"><textarea maxlength="2000" required="" ng-model="newComment.content" placeholder="写下你的评论…" id="comment_content"></textarea><div><input type="submit" ng-click="submitNewComment(article._id)" ng-disabled="new_comment.$invalid" id="comment_submit_btn" value="发 表" class="btn btn-info"></div></div></form></div><scrolltop></scrolltop></div><div class="center-footer" ng-include="\'app/components/footer/footer.html\'"></div>'),t.put("app/article/comment.directive.html",'<div class="comment-item"><div class="content"><div class="meta-top"><a class="avatar"><img ng-src="{{comment.user_id.avatar || default_avatar}}" alt="{{comment.user_id.nickname}}"></a> <a class="author-name link-light">{{comment.user_id.nickname}}</a> <span class="reply-time">{{comment.created | date:\'yyyy.MM.dd hh:mm\'}}</span></div><p class="comment-content">{{comment.content}}</p><div class="comment-footer text-right"><a class="delete" ng-if="isAdmin()" href="javascript:;" ng-click="delComment($index,comment._id)">删除</a> <a class="reply" href="javascript:void(0)" ng-click="showReply($index,comment.user_id.nickname)">回复</a></div><div class="reply-list" ng-init="isReply = false" ng-show="comment.replys.length > 0 || isReply"><reply ng-repeat="reply in comment.replys track by $index"></reply><form class="new-reply" ng-show="isReply"><div class="comment-text"><textarea id="replyContent{{$index}}" ng-model="replyContent" maxlength="2000" placeholder="写下你的回复…"></textarea><div><input type="button" ng-click="submitNewReply(comment._id,replyContent,$index)" value="发 表" id="reply_submit_btn_{{$index}}" class="btn btn-sm btn-info"></div></div></form></div></div></div>'),t.put("app/article/reply.directive.html",'<div class="reply-item"><p class="reply-content"><a class="reply-user link-light">{{reply.user_info.nickname}}</a>： {{reply.content}}</p><div class="reply-footer text-right"><a class="delete" ng-if="isAdmin()" href="javascript:;" ng-click="delReply(reply._id,comment._id,$parent.$parent.$index)">删除</a> <a class="reply" href="javascript:void(null)" ng-click="showReply($parent.$index,reply.user_info.nickname)">回复</a> <span class="reply-time pull-left">{{reply.created | date:\'yyyy.MM.dd hh:mm\'}}</span></div></div>'),t.put("app/main/main.html",'<div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="container-fluid main-box"><div class="row"><div ng-include="\'app/components/sidebar/sidebar.html\'"></div><div class="col-sm-7 col-sm-offset-3 main-content"><ul class="sort-tags list-unstyled clearfix"><li><a ng-class="{active:(options.sortName == \'publish_time\')}" ng-click="changeSort(\'publish_time\')" href="javascript:;">最新</a></li><li><a ng-class="{active:(options.sortName == \'visit_count\')}" ng-click="changeSort(\'visit_count\')" href="javascript:;">热门</a></li><li ng-repeat="tag in tagList"><a ng-class="{active:(options.tagId == tag._id)}" ng-click="changeTag(tag._id)" href="javascript:;">{{tag.name}}</a></li><li><img ng-show="isLoading" class="loader-tiny" src="/assets/images/tiny.gif" alt="Tiny"></li></ul><ul class="article-list list-unstyled clearfix"><li class="article-item" ng-class="{\'have-img\':blog.images.length>0}" ng-repeat="blog in blogList"><a ng-show="(blog.images.length > 0)" class="wrap-img" ui-sref="article({aid:blog._id})"><img ng-src="{{blog.images[0].url}}-100x100"></a><div><p class="list-top"><span class="time">{{blog.publish_time | customTime}}</span></p><h4 class="title"><a class="link-title" ui-sref="article({aid:blog._id})">{{blog.title}}</a></h4><div class="list-footer"><span>阅读 {{blog.visit_count}}</span> <span>· 评论 {{blog.comment_count}}</span> <span>· 喜欢 {{blog.like_count}}</span></div></div></li><li class="no-content" ng-if="(blogCount < 1)">正在大力回车.....</li></ul><div class="load-more"><button ng-click="loadMore()" ng-disabled="isLoading" class="ladda-button" ng-show="(options.currentPage < numPages)"><span ng-hide="isLoading" class="ladda-label">点击查看更多</span> <span ng-show="isLoading" class="ladda-spinner"><i class="fa fa-spinner fa-spin"></i></span></button></div></div></div></div><div ng-include="\'app/components/footer/footer.html\'"></div>'),t.put("app/mobile/mobile.html",'<div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="settings-box"><div class="settings-container"><h2 class="title">App 下载</h2><hr><div class="row mobile-apps" ng-repeat="items in apps"><p class="version">{{items.name}}版 <a href="{{items.gitUrl}}" target="_blank"><i class="fa fa-github"></i></a></p><ul class="col-sm-7 downloads"><li><a href="{{items.downloadUrl.android || \'javascript:;\'}}" class="btn btn-large btn-success"><i class="fa fa-android"></i> <span>Android版</span></a></li><li><a href="{{items.downloadUrl.ios || \'javascript:;\'}}" class="btn btn-large btn-info"><i class="fa fa-mobile"></i> <span>iPhone版</span></a></li></ul><div class="hidden-xs qrcode"><img ng-src="{{items.qrcode}}" alt="Download app qrcode"></div></div></div></div>'),t.put("app/settings/local_sign_in.html",'<div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="signin-box"><div class="signin-container"><h4 class="title">登 录</h4><form class="signin-form form-horizontal" name="signinForm" ng-submit="login(signinForm)" ng-keypress="loginPress($event,signinForm)" novalidate=""><div class="form-group"><div class="input-group"><div class="input-group-addon"><i class="fa fa-envelope-o"></i></div><input type="text" required="" email="" ng-minlength="3" ng-maxlength="30" ng-model="user.email" class="form-control" placeholder="邮箱"></div></div><div class="form-group"><div class="input-group"><div class="input-group-addon"><i class="fa fa-unlock-alt"></i></div><input type="password" required="" ng-model="user.password" class="form-control" placeholder="密码"></div></div><div class="form-group"><div class="col-xs-6 captcha-code"><input class="form-control" required="" maxlength="6" type="text" name="captcha" ng-model="user.captcha" placeholder="验证码"></div><div class="col-xs-6 captcha-img"><a href="javascript:;" ng-click="changeCaptcha()"><img ng-src="{{captchaUrl}}"></a></div></div><div class="form-group"><button class="btn btn-primary btn-lg btn-block" type="submit" ng-disabled="signinForm.$invalid" id="signin_btn">登 录</button></div></form><div class="login-sns"><p>您还可以通过以下方式直接登录</p><snsloginbtns></snsloginbtns></div></div></div>'),t.put("app/settings/sns_login_btn.html",'<ul><li ng-click="loginOauth(item)" ng-repeat="item in loginBtns"><a class="{{item}}" href="javascript:;"><i class="fa fa-{{item}}"></i></a></li></ul>'),t.put("app/settings/sns_sign_in.html",'<div class="modal-header"><h4 class="modal-title text-center">请用以下方式登录</h4></div><div class="modal-body"><div class="portlet-body"><div class="login-sns"><snsloginbtns></snsloginbtns></div></div></div>'),t.put("app/settings/user_setting.html",'<div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="settings-box"><div class="settings-container"><h2 class="title">设置</h2><hr><div class="profile"><div class="control-group"><form class="settings-form" name="settingForm" ng-submit="mdUser(settingForm)" novalidate=""><div class="form-group"><label class="control-label">昵称</label> <input placeholder="2-15字符，中英文、数字和下划线" required="" nickname="" type="text" class="form-control" ng-minlength="2" ng-maxlength="15" ng-model="user.nickname"></div><button type="submit" class="btn btn-block btn-lg btn-primary" ng-disabled="settingForm.$invalid">保 存</button></form></div></div></div></div>'),t.put("app/components/footer/footer.html",'<footer ng-controller="FooterCtrl"><div class="footer-container"><ul><li><span>{{beian}}</span></li><li><a class="github" href="https://github.com/jackhutu" target="_blank"><i class="fa fa-github"></i></a></li><li><a class="weibo" href="http://weibo.com/hutaigong" target="_blank"><i class="fa fa-weibo"></i></a></li><li><iframe src="https://ghbtns.com/github-btn.html?user=jackhutu&repo=jackblog-angular1&type=star&count=true" frameborder="0" scrolling="0" width="160px" height="20px"></iframe></li></ul></div></footer>'),t.put("app/components/navbar/navbar.html",'<div class="navbar-box navbar-skin" ng-controller="NavbarCtrl"><div class="navbar-menu"><a class="navbar-item logo" ng-class="{active: isActive(\'/\')}" title="首页" href="/">Hu</a> <a class="navbar-item mobile" ng-class="{active: isActive(\'/apps\')}" tooltip-class="nav-tooltip" tooltip-placement="right" tooltip="移动应用" href="/apps"><i class="fa fa-mobile"></i></a></div><div class="navbar-expanded"><div><a class="navbar-item expanded-version" href="http://angular2.jackhu.top" title="Angular2.x版"><img src="http://upload.jackhu.top/icons/angular2.png-32x32"></a> <a class="navbar-item expanded-version" href="http://vue.jackhu.top" title="Vue版"><img src="http://upload.jackhu.top/icons/vue.png-32x32"></a> <a class="navbar-item expanded-version" href="http://react.jackhu.top" title="React版"><img src="http://upload.jackhu.top/icons/react.png-32x32"></a> <a class="navbar-item expanded-version" href="http://angular1.jackhu.top" title="Angular1.x版"><img src="http://upload.jackhu.top/icons/AngularJS.png-32x32"></a> <a class="navbar-item change-mode" href="javascript:;" ng-click="changeMode()" tooltip-placement="right" tooltip-class="nav-tooltip" tooltip="模式切换"><i ng-if="dayMode" class="fa fa-moon-o"></i> <i ng-if="!dayMode" class="fa fa-sun-o"></i></a></div><div ng-if="isLoggedIn()"><a href="javascript:;" class="navbar-item expanded-logout" ng-click="logout()" tooltip-class="nav-tooltip" tooltip-placement="right" tooltip="登出"><i class="fa fa-sign-out"></i></a> <a class="navbar-item expanded-avatar" ui-sref="setting()" tooltip-class="nav-tooltip" tooltip-placement="right" tooltip="{{getCurrentUser().nickname}}"><img ng-src="{{ getCurrentUser().avatar || default_avatar}}"></a></div><div ng-if="!isLoggedIn()"><a class="navbar-item" ui-sref-active="active" ui-sref="signin()" tooltip-class="nav-tooltip" tooltip-placement="right" tooltip="登录"><i class="fa fa-sign-in"></i></a></div></div><div class="navbar-shrink"><div ng-if="isLoggedIn()" class="pull-right" dropdown="" is-open="status.isopen"><a href="javascript:;" class="shrink-avatar dropdown-toggle" data-toggle="dropdown" dropdown-toggle="" ng-disabled="disabled"><img ng-src="{{ getCurrentUser().avatar || default_avatar}}"></a><ul class="dropdown-menu" role="navbarList"><li><a ui-sref="setting()"><i class="fa fa-cog"></i> 设置</a></li><li class="divider"></li><li><a href="javascript:;" class="shrink-logout" ng-click="logout()"><i class="fa fa-sign-out"></i> 登出</a></li></ul></div><div ng-if="!isLoggedIn()" class="pull-right"><a class="shrink-login" ui-sref="signin()"><i class="fa fa-sign-in"></i> 登录</a></div><div class="pull-right"><a class="navbar-item change-mode" href="javascript:;" ng-click="changeMode()"><i ng-if="dayMode" class="fa fa-moon-o"></i> <i ng-if="!dayMode" class="fa fa-sun-o"></i></a></div><div class="pull-right"><a class="navbar-item expanded-version" href="http://angular1.jackhu.top" title="Angular1.x版"><img src="http://upload.jackhu.top/icons/AngularJS.png-16x16"></a></div><div class="pull-right"><a class="navbar-item expanded-version" href="http://react.jackhu.top" title="React版"><img src="http://upload.jackhu.top/icons/react.png-16x16"></a></div><div class="pull-right"><a class="navbar-item expanded-version" href="http://vue.jackhu.top" title="Vue版"><img src="http://upload.jackhu.top/icons/vue.png-16x16"></a></div><div class="pull-right"><a class="navbar-item expanded-version" href="http://angular2.jackhu.top" title="Agnular2.x版"><img src="http://upload.jackhu.top/icons/angular2.png-16x16"></a></div></div></div>'),t.put("app/components/sidebar/sidebar.html",'<div class="col-sm-3 sidebar-box" ng-controller="SidebarCtrl"><div class="cover-img" style="background-image: url({{indexImg}})"></div><div class="bottom-block"><h1>{{name}}</h1><h3>有朋自远方来</h3><h3>不亦乐乎</h3></div></div>')}]);